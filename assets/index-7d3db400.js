(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const t of i)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const t={};return i.integrity&&(t.integrity=i.integrity),i.referrerPolicy&&(t.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?t.credentials="include":i.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function o(i){if(i.ep)return;i.ep=!0;const t=n(i);fetch(i.href,t)}})();const v={moscow:{name:"Москва",region:"moscow",top:38,left:12},spb:{name:"Санкт-Петербург",region:"northwest",top:22,left:13},kaliningrad:{name:"Калининград",region:"northwest",top:21,left:4},yaroslavl:{name:"Ярославль",region:"center",top:33,left:15.5},voronezh:{name:"Воронеж",region:"center",top:41.5,left:8.5},belgorod:{name:"Белгород",region:"center",top:46.5,left:8},rostov:{name:"Ростов-на-Дону",region:"south",top:54,left:7},volgograd:{name:"Волгоград",region:"south",top:61,left:9.5},krasnodar:{name:"Краснодар",region:"south",top:65,left:5},nn:{name:"Нижний Новгород",region:"volga",top:43.5,left:17},kazan:{name:"Казань",region:"volga",top:49.5,left:21},samara:{name:"Самара",region:"volga",top:52,left:16},ufa:{name:"Уфа",region:"volga",top:56,left:22},orenburg:{name:"Оренбург",region:"volga",top:62,left:19},izhevsk:{name:"Ижевск",region:"ural",top:48,left:28},perm:{name:"Пермь",region:"ural",top:49,left:32},ekb:{name:"Екатеринбург",region:"ural",top:54.5,left:27.5},chelyabinsk:{name:"Челябинск",region:"ural",top:61.5,left:27},surgut:{name:"Сургут",region:"ural",top:50.5,left:37},tyumen:{name:"Тюмень",region:"ural",top:61,left:35},omsk:{name:"Омск",region:"siberia",top:79.5,left:39},novosibirsk:{name:"Новосибирск",region:"siberia",top:76,left:42.5},krasnoyarsk:{name:"Красноярск",region:"siberia",top:77.5,left:54},tomsk:{name:"Томск",region:"siberia",top:78,left:48},irkutsk:{name:"Иркутск",region:"siberia",top:82,left:59},vladivostok:{name:"Владивосток",region:"east",top:96.5,left:82},khabarovsk:{name:"Хабаровск",region:"east",top:84,left:83}},g=[{id:"moscow",name:"Москва"},{id:"center",name:"Центр"},{id:"northwest",name:"Северо-Запад"},{id:"south",name:"Юг"},{id:"volga",name:"Волга"},{id:"ural",name:"Урал"},{id:"siberia",name:"Сибирь"},{id:"east",name:"Дальний Восток"}],y={moscow:[{id:"moscow",name:"Москва"}],center:[{id:"voronezh",name:"Воронеж"},{id:"yaroslavl",name:"Ярославль"},{id:"belgorod",name:"Белгород"}],northwest:[{id:"spb",name:"Санкт-Петербург"},{id:"kaliningrad",name:"Калининград"}],south:[{id:"rostov",name:"Ростов-на-Дону"},{id:"krasnodar",name:"Краснодар"},{id:"volgograd",name:"Волгоград"}],volga:[{id:"kazan",name:"Казань"},{id:"samara",name:"Самара"},{id:"ufa",name:"Уфа"},{id:"orenburg",name:"Оренбург"},{id:"nn",name:"Нижний Новгород"}],ural:[{id:"ekb",name:"Екатеринбург"},{id:"chelyabinsk",name:"Челябинск"},{id:"perm",name:"Пермь"},{id:"surgut",name:"Сургут"},{id:"tyumen",name:"Тюмень"},{id:"izhevsk",name:"Ижевск"}],siberia:[{id:"novosibirsk",name:"Новосибирск"},{id:"omsk",name:"Омск"},{id:"tomsk",name:"Томск"},{id:"krasnoyarsk",name:"Красноярск"},{id:"irkutsk",name:"Иркутск"}],east:[{id:"khabarovsk",name:"Хабаровск"},{id:"vladivostok",name:"Владивосток"}]};class L{constructor(){this.mapContainer=document.querySelector(".hero__map-cities"),this.navButtons=document.querySelectorAll(".hero__map-btn"),this.activeRegion="all",this.activeCity=null,this.regionDropdown=document.querySelector(".hero__map-dropdown"),this.regionDropdownText=document.querySelector(".hero__map-current span"),this.init()}init(){this.mapContainer&&(this.createCityPoints(),this.createCityDropdowns(),this.initRegionButtons())}createCityPoints(){this.mapContainer.innerHTML="",Object.entries(v).forEach(([e,n])=>{const o=document.createElement("div");o.className="hero__map-point",o.dataset.city=e,o.dataset.region=n.region,o.style.top=`${n.top}%`,o.style.left=`${n.left}%`;const i=document.createElement("span");i.className="hero__map-point-name",i.textContent=n.name,o.addEventListener("click",()=>{this.setActiveCity(e)}),o.appendChild(i),this.mapContainer.appendChild(o)})}createCityDropdowns(){this.regionDropdown.innerHTML="";const e=document.createElement("div");e.className="hero__map-table";const n=document.createElement("div");n.className="hero__map-row hero__map-header",g.forEach(i=>{const t=document.createElement("div");t.className="hero__map-cell hero__map-region",t.dataset.region=i.id,t.textContent=i.name,t.addEventListener("click",()=>{this.filterByRegion(i.id)}),n.appendChild(t)}),e.appendChild(n);const o=Math.max(...Object.values(y).map(i=>i.length));for(let i=0;i<o;i++){const t=document.createElement("div");t.className="hero__map-row",g.forEach(s=>{const r=document.createElement("div");r.className="hero__map-cell";const h=y[s.id];if(h&&h[i]){const m=h[i];r.textContent=m.name,r.dataset.city=m.id,r.dataset.region=s.id,r.addEventListener("click",()=>{this.setActiveCity(m.id)})}t.appendChild(r)}),e.appendChild(t)}this.regionDropdown.appendChild(e)}initRegionButtons(){this.navButtons.forEach(e=>{e.addEventListener("click",()=>{const n=e.dataset.region;this.filterByRegion(n)})}),this.filterByRegion("all")}filterByRegion(e){if(this.activeRegion=e,this.activeCity=null,this.navButtons.forEach(i=>{i.classList.toggle("active",i.dataset.region===e)}),e==="all")this.regionDropdownText.textContent="Офисы Softline";else{const i=g.find(t=>t.id===e);i&&(this.regionDropdownText.textContent=i.name)}document.querySelectorAll(".hero__map-region").forEach(i=>{i.classList.toggle("active",i.dataset.region===e)}),document.querySelectorAll(".hero__map-point").forEach(i=>{if(e==="all")i.classList.remove("hidden"),i.classList.add("active");else{const s=i.dataset.region===e;i.classList.toggle("hidden",!s),i.classList.toggle("active",s)}})}setActiveCity(e){if(this.activeCity=e,!e)return;const n=v[e];if(!n)return;this.filterByRegion(n.region),this.regionDropdownText.textContent=n.name,document.querySelectorAll(".hero__map-point").forEach(s=>{const r=s.dataset.city===e;s.classList.toggle("active",r),s.classList.toggle("hidden",!r)}),document.querySelectorAll(".hero__map-cell[data-city]").forEach(s=>{s.classList.toggle("active",s.dataset.city===e)});const t=document.querySelector(".hero__map-current");t&&(t.classList.remove("active"),this.regionDropdown.classList.remove("active"))}}class E{constructor(e){this.slider=e,this.track=this.slider.querySelector(".corporate__track"),this.slides=Array.from(this.track.children),this.nextButton=this.slider.parentElement.querySelector(".js-slider-next"),this.prevButton=this.slider.parentElement.querySelector(".js-slider-prev"),this.indicators=this.slider.parentElement.querySelectorAll(".corporate__indicator"),this.slideWidth=this.slides[0].getBoundingClientRect().width,this.currentSlide=1,this.slidesCount=this.slides.length-2,this.isAnimating=!1,this.autoplayTimer=null,this.autoplayInterval=4e3,this.isMobile=window.innerWidth<=576,this.init()}init(){const e=this.slides[0].cloneNode(!0),n=this.slides[this.slides.length-1].cloneNode(!0);this.track.appendChild(e),this.track.insertBefore(n,this.slides[0]),this.updateSliderPosition(),this.nextButton.addEventListener("click",()=>this.next()),this.prevButton.addEventListener("click",()=>this.prev()),this.indicators.forEach((t,s)=>{t.addEventListener("click",()=>this.goToSlide(s+1))}),this.track.addEventListener("transitionend",()=>this.handleTransitionEnd());let o=0,i=0;this.track.addEventListener("touchstart",t=>{o=t.touches[0].clientX,this.stopAutoplay()}),this.track.addEventListener("touchmove",t=>{i=t.touches[0].clientX}),this.track.addEventListener("touchend",()=>{const t=o-i;Math.abs(t)>50&&(t>0?this.next():this.prev()),this.isMobile&&this.startAutoplay()}),this.isMobile&&this.startAutoplay(),window.addEventListener("resize",()=>{const t=this.isMobile;this.isMobile=window.innerWidth<=576,t!==this.isMobile&&(this.isMobile?this.startAutoplay():this.stopAutoplay())}),this.updateIndicators()}startAutoplay(){this.autoplayTimer||(this.autoplayTimer=setInterval(()=>{this.next()},this.autoplayInterval))}stopAutoplay(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null)}updateSliderPosition(e=!0){e?this.track.style.transition="transform 0.5s ease":this.track.style.transition="none",this.track.style.transform=`translateX(-${this.currentSlide*100}%)`}updateIndicators(){this.indicators.forEach((e,n)=>{n===this.currentSlide-1?(e.classList.add("active"),e.setAttribute("aria-current","true")):(e.classList.remove("active"),e.setAttribute("aria-current","false"))})}handleTransitionEnd(){this.isAnimating=!1,this.currentSlide===0?(this.currentSlide=this.slidesCount,this.updateSliderPosition(!1)):this.currentSlide===this.slidesCount+1&&(this.currentSlide=1,this.updateSliderPosition(!1))}next(){this.isAnimating||(this.isAnimating=!0,this.currentSlide++,this.updateSliderPosition(),this.updateIndicators())}prev(){this.isAnimating||(this.isAnimating=!0,this.currentSlide--,this.updateSliderPosition(),this.updateIndicators())}goToSlide(e){this.isAnimating||this.currentSlide===e||(this.isAnimating=!0,this.currentSlide=e,this.updateSliderPosition(),this.updateIndicators())}}document.addEventListener("DOMContentLoaded",()=>{const a=document.querySelector(".header__burger"),e=document.querySelector(".header__nav"),n=document.body,o=window.innerWidth<=576;o&&document.querySelectorAll(".header__menu-item a").forEach(c=>{const d=c.textContent;if(d.length>16){const _=c.getAttribute("title")||d;c.getAttribute("title")||c.setAttribute("title",_)}}),!o&&a&&e&&(a.addEventListener("click",()=>{a.classList.toggle("is-active"),e==null||e.classList.toggle("is-active"),n.classList.toggle("no-scroll")}),document.querySelectorAll(".header__menu-item a").forEach(c=>{c.addEventListener("click",()=>{a==null||a.classList.remove("is-active"),e==null||e.classList.remove("is-active"),n.classList.remove("no-scroll")})})),document.querySelector(".hero__map")&&new L;const t=document.querySelector(".hero__map-current"),s=document.querySelector(".hero__map-dropdown"),r=document.querySelectorAll(".hero__map-dropdown button"),h=t==null?void 0:t.querySelector("span"),m=document.querySelectorAll(".hero__map-btn");let u=!1;t==null||t.addEventListener("click",()=>{u=!u,t.classList.toggle("active"),s==null||s.classList.toggle("active")}),document.addEventListener("click",l=>{s&&!l.target.closest(".hero__map-select")&&!l.target.closest(".hero__map-dropdown")&&u&&(u=!1,t==null||t.classList.remove("active"),s.classList.remove("active"))}),r==null||r.forEach(l=>{l.addEventListener("click",()=>{const c=l.getAttribute("data-region");h&&(h.textContent=l.textContent),r.forEach(d=>{d.classList.toggle("active",d.getAttribute("data-region")===c)}),m.forEach(d=>{d.getAttribute("data-region")===c&&d.click()}),u=!1,t==null||t.classList.remove("active"),s==null||s.classList.remove("active")})});const f=document.querySelector(".corporate__slider");f&&new E(f);const p=document.querySelectorAll(".business__card");o&&p.length>0&&p.forEach(l=>{l.addEventListener("click",c=>{window.innerWidth<=576&&(c.preventDefault(),l.classList.toggle("expanded"),p.forEach(d=>{d!==l&&d.classList.remove("expanded")}))})})});window.addEventListener("resize",()=>{const a=document.querySelector(".header__burger"),e=document.querySelector(".header__nav"),n=document.body;!(window.innerWidth<=576)&&window.innerWidth>768&&(e!=null&&e.classList.contains("is-active"))&&(a==null||a.classList.remove("is-active"),e==null||e.classList.remove("is-active"),n.classList.remove("no-scroll"))});
